syntax = "proto3";

package v1grpc;

import "google/protobuf/timestamp.proto";

option go_package = "./;v1grpc";


message StartMonitoringRequest {
  int64 response_duration = 1;
  int64 wait_duration = 2;
}

message StatsResponse {
  CPUTimeStatValue cpu_info = 1;
  LoadStatValue load_info = 2;
}

message CPUTimeStatValue {
  double user = 1;
  double system = 2;
  double idle = 3;
}

message LoadStatValue {
  double load1 = 1;
  double load5 = 2;
  double load15 = 3;
}

service SystemStatsMonitorServiceV1 {
  rpc StartMonitoring(StartMonitoringRequest) returns (stream StatsResponse);
}
